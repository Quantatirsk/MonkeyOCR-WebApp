# MonkeyOCR WebApp Environment Configuration
# Copy this file to .env and fill in your actual values

# Application Settings
DEBUG=false
LOG_LEVEL=INFO
API_PORT=8001
TZ=Asia/Shanghai

# CORS Configuration (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://0.0.0.0:3000

# MonkeyOCR API Configuration
MONKEYOCR_API_BASE_URL=https://ocr.teea.cn
MONKEYOCR_API_KEY=your_monkeyocr_api_key_here

# LLM Configuration (for translation features)
LLM_BASE_URL=https://api.teea.cn/v1
LLM_API_KEY=sk-qIm1Z8Cy6b9NGAOG3d6729CeBe2b49Ef871dEf2eBeB7Ba08
LLM_MODEL_NAME=qwen3:4b-instruct-2507-q4_K_M
TRANSLATION_CACHE_TTL=86400

# Authentication Configuration
# Generate a secure JWT secret with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
JWT_SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING
JWT_ALGORITHM=HS256
TOKEN_EXPIRE_HOURS=24

# Redis Configuration (for OCR and LLM caching only)
# Note: Rate limiting now uses in-memory storage, task storage uses SQLite
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_MAX_MEMORY=512mb  # Increased for better cache performance
# REDIS_PASSWORD=  # Set a password for production

# Cache TTL Configuration (in seconds)
# OCR_CACHE_TTL=2592000  # 30 days (default)
# LLM_CACHE_TTL=86400    # 24 hours (default, overrides TRANSLATION_CACHE_TTL)

# Rate Limiting Configuration (10x increased for better UX)
# Login: 50 requests/minute per IP
# Register: 30 requests/minute per IP  
# Upload: 100 requests/minute per user
# Default: 600 requests/minute per user

# Frontend Configuration (for Vite development)
VITE_API_BASE_URL=http://localhost:8001

# Content Security Policy Configuration
# Add allowed domains for connect-src (e.g., "https://ocr.teea.cn https://*.teea.cn")
# Leave empty to allow only same-origin connections
CSP_CONNECT_SOURCES=